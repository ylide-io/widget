<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Page 1</title>
	</head>
	<body>
		<h2>Ylide Widgets</h2>

		<hr />

		Custom button <button id="send-message-button">Send Message</button>

		<hr />

		Pre-defined button
		<div
			class="ylide-send-message"
			data-to="0xd3c2b7b1ebcd6949abcf1041cc629b2648ad2329"
			data-subject="Hello World"
		></div>

		<hr />

		Realtime-added button (after 2 seconds)
		<span id="realtime-added-button-wrapper"></span>

		<hr />

		No-public-keys button (shouldn't appear)
		<div class="ylide-send-message" data-to="0x123123123123123123123123" data-subject="Hello World"></div>

		<hr />

		<button onclick="Ylide.openMailboxPopup()">Open Mailbox popup</button>

		<script src="../dist/index.js"></script>
		<script type="text/javascript">
			// Optional init call (if some conficuration needed)
			Ylide.init({
				ylideHubUrl: 'http://localhost:3000/',
				// ylideHubUrl: 'https://staging.ylide.io/',
			})

			document.getElementById('send-message-button').onclick = function () {
				Ylide.openSendMessagePopup({ address: '0xd3c2b7b1ebcd6949abcf1041cc629b2648ad2329' })
			}

			setTimeout(() => {
				const wrapper = document.getElementById('realtime-added-button-wrapper')

				const div = document.createElement('div')
				div.className = 'ylide-send-message'
				div.dataset.to = '0xd3c2b7b1ebcd6949abcf1041cc629b2648ad2329'
				wrapper.appendChild(div)
			}, 2000)

			Ylide.showFloatingMailboxButton()
		</script>
	</body>
</html>
